<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Demo - Constrain 使用示例</title>
	<script src="//g.assets.daily.taobao.net/kissy/k/6.0.0/seed-min.js" data-config="{combine:true}"></script>
    <link rel="stylesheet" href="//g.alicdn.com/kissy/k/1.4.7/css/dpl/base.css"/>

</head>
<body>

<div id="constrainContainer"
     style="width: 300px;height: 300px;border: 1px solid red;position: relative;">

    <div style="width: 100px;height: 100px;
    border: 1px solid green;
    position: absolute;left:10px;top:10px;"
         id="d">

    </div>

</div>
<button id="cd">contrain to div</button>
<button id="cw">constrain to window</button>
<button id="cn">no constrain</button>
<script>
KISSY.use("kg/dd/0.0.1/,node,kg/dd/0.0.1/plugin/constrain", function (S, DD, Node,Constrain) {
    var $ = Node.all;

    var constrain=new Constrain({
        constrain: "#constrainContainer"
    });

    var drag = new DD.Draggable({
        node: "#d",
        move: 1,
        plugins:[
            constrain
        ]
    });

    $("#cd").on("click", function () {
        $("#d").css({
            left: "10px",
            top: "10px"
        });
        constrain.set("constrain", "#constrainContainer");
        drag.unplug(constrain);
        drag.plug(constrain);
    });

    $("#cw").on("click", function () {
        $("#d").css({
            left: "10px",
            top: "10px"
        });
        constrain.set("constrain", true);
        drag.unplug(constrain);
        drag.plug(constrain);
    });

    $("#cn").on("click", function () {
        $("#d").css({
            left: "10px",
            top: "10px"
        });
        drag.unplug(constrain);
    });
});
</script>

</body>
</html>
